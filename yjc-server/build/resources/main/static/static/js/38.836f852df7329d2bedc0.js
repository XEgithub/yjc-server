webpackJsonp([38],{GlIu:function(s,t){},a2ht:function(s,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=e("GgDs"),a=e("VsUZ"),r=e("Au9i"),i={name:"OrderDetail",components:{Header:o.a,MessageBox:r.MessageBox,Toast:r.Toast},data:function(){return{headerCon:"订单详情",userInfo:{},projectList:[],order:{},listLen:2,isShowMore:!1,status:1,btnCon:"支付",identifyIcon:e("VLEx"),hospitalList:this.common.getStorage("hospitalList")}},methods:{goOrderConfirm:function(){var s=this,t={uuid:this.$route.query.uuid};a.a.getOrderDetail(t).then(function(t){if(200===t.data.code){var e=t.data.successObject.projectList;for(var o in e)for(var a in s.hospitalList)if(e[o].hospital===s.hospitalList[a].uuid){e[o].hospitalName=s.hospitalList[a].name,e[o].hospitalLogo=s.hospitalList[a].logo;break}var r={userRemark:t.data.successObject.order.userRemark,scope:t.data.successObject.order.scope,reportNeed:t.data.successObject.order.paperReport,notes:t.data.successObject.order.notes,serviceCharge:t.data.successObject.order.servicePrice,couponPrice:t.data.successObject.order.couponPrice,price:t.data.successObject.order.price,uuid:t.data.successObject.order.uuid,coupon:t.data.successObject.order.coupon},i={totalPrice:t.data.successObject.order.projectPrice,orderConfirmList:t.data.successObject.projectList,projectNumber:t.data.successObject.order.projectCount,patientInfo:t.data.successObject.patient,orderInfo:r};s.common.setStorage("orderConfirmInfo",i),s.$router.push({path:"/orderconfirm"})}}).catch(function(s){console.log(s)})},cancelOrder:function(){var s={uuid:this.$route.query.uuid};Object(r.MessageBox)({title:"提示",message:"确认取消订单？",showCancelButton:!0}),r.MessageBox.confirm("确认取消订单？").then(function(t){console.log("gogogo"),a.a.cancelOrder(s).then(function(s){console.log(s),200===s.data.code?Object(r.Toast)({message:"您已取消订单",position:"bottom",duration:3e3}):Object(r.Toast)({message:s.data.msg,position:"bottom",duration:3e3})}).catch(function(s){Object(r.Toast)({message:s.data.msg,position:"bottom",duration:3e3})})}).catch(function(s){Object(r.Toast)({message:"网络错误，请重试",position:"bottom",duration:3e3})})},getOrderDetail:function(){var s=this,t=this.$route.query;this.status=t.status,"1"===this.status?this.btnCon="支付":this.btnCon="立即预约",a.a.getOrderDetail(t).then(function(t){if(console.log(t),200===t.data.code){var e=t.data.successObject,o=e.order,a=e.patient,r=e.projectList;s.order=o,s.userInfo=a,s.projectList=r,s.projectList.length>=3&&(s.isShowMore=!0)}})},goPay:function(){this.$router.push({name:"OrderConfirm",params:{from:"order",orderId:this.$route.query.uuid}})},showMore:function(){this.isShowMore=!1,this.listLen=this.projectList.length},hide:function(){this.isShowMore=!0,this.listLen=2}},mounted:function(){this.getOrderDetail()}},c={render:function(){var s=this,t=s.$createElement,o=s._self._c||t;return o("div",{staticClass:"order_detail"},[o("Header",{attrs:{headerCon:s.headerCon}}),s._v(" "),o("div",{staticClass:"tips"}),s._v(" "),o("div",{staticClass:"patient"},[o("img",{staticClass:"iden",attrs:{src:s.identifyIcon}}),s._v(" "),o("div",{staticClass:"pa_top"},[o("p",[s._v(s._s(s.userInfo.name))]),s._v(" "),o("p",[s._v(s._s(s.userInfo.phone))])]),s._v(" "),o("div",{staticClass:"pa_bot"},[o("p",[s._v(s._s(s.userInfo.certificatesType))]),s._v(" "),o("p",[s._v(s._s(s.userInfo.certificatesNo))])])]),s._v(" "),o("div",{staticClass:"order_number"},[o("label",[s._v("订单号:")]),s._v(" "),o("span",[s._v(s._s(s.order.orderNo))])]),s._v(" "),o("div",{staticClass:"list"},[o("ul",s._l(s.projectList,function(t,a){return o("li",{directives:[{name:"show",rawName:"v-show",value:!(a>=s.listLen),expression:"ind >= listLen ? false : true"}],key:a},[o("img",{attrs:{src:e("7kxN"),alt:""}}),s._v(" "),o("div",{staticClass:"check"},[o("p",{staticClass:"check_name"},[s._v(s._s(t.name))]),s._v(" "),o("p",{staticClass:"check_hospital"},[s._v(s._s(t.hospital))])]),s._v(" "),o("div",{staticClass:"cycle_cost"},[o("p",{staticClass:"cycle"},[s._v("周期："),o("span",[s._v(s._s(t.period))])]),s._v(" "),o("p",{staticClass:"cost"},[s._v("¥"+s._s(t.nowPrice))])])])}),0),s._v(" "),o("p",{directives:[{name:"show",rawName:"v-show",value:s.isShowMore,expression:"isShowMore"}],staticClass:"more",on:{click:s.showMore}},[s._v("查看剩余"+s._s(s.projectList.length-s.listLen)+"个")]),s._v(" "),o("p",{directives:[{name:"show",rawName:"v-show",value:!s.isShowMore,expression:"!isShowMore"}],staticClass:"more",on:{click:s.hide}},[s._v("收起")])]),s._v(" "),o("div",{staticClass:"coupon"},[o("p",[s._v("优惠券")]),s._v(" "),o("p",[s._v(s._s(s.order.coupon))])]),s._v(" "),o("div",{staticClass:"notes"},[o("p",[s._v("注意事项")]),s._v(" "),o("p",[s._v(s._s(s.order.notes))])]),s._v(" "),o("div",{staticClass:"cost_list"},[o("p",[o("span",[s._v("项目费用(5)")]),s._v(" "),o("span",[s._v("¥ "+s._s(s.order.projectPrice))])]),s._v(" "),o("p",[o("span",[s._v("服务费用")]),s._v(" "),o("span",[s._v("¥ "+s._s(s.order.servicePrice))])]),s._v(" "),s._m(0),s._v(" "),o("p",[o("span",[s._v("优惠")]),s._v(" "),o("span",[s._v("-¥ "+s._s(s.order.couponPrice))])])]),s._v(" "),o("div",{staticClass:"submit"},[o("p",{staticClass:"hj"},[s._v("合计:")]),s._v(" "),o("p",{staticClass:"total_price"},[s._v("¥ "+s._s(s.order.price))]),s._v(" "),o("button",{staticClass:"cancel_order",on:{click:s.cancelOrder}},[s._v("取消订单")]),s._v(" "),o("button",{class:"1"===s.status?"pay":"",on:{click:s.goOrderConfirm}},[s._v("支付")])])],1)},staticRenderFns:[function(){var s=this.$createElement,t=this._self._c||s;return t("p",[t("span",[this._v("邮寄费用")]),this._v(" "),t("span",[this._v("到付")])])}]};var n=e("VU/8")(i,c,!1,function(s){e("GlIu")},"data-v-30110686",null);t.default=n.exports}});