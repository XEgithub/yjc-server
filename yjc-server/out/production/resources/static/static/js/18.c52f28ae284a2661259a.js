webpackJsonp([18],{"7tsb":function(t,e){},Fku2:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAAhFBMVEUAAACcnJyqqqqqqqqqqqqqqqqkpKSqqqqqqqqpqamqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqpqamqqqqqqqqqqqqqqqqqqqqpqamqqqqqqqqpqamqqqqqqqqqqqqoqKiqqqqoqKiqqqqqqqqqqqqrq6uqqqqqqqqqqqqqqqqqqqokhOxXAAAAK3RSTlMAA/hD7AcK9B0x8GTW0Mfkrt64qIdyVUk2JueRUD3ZoBebEc2XeV6zWsGA2t3dVAAAAmxJREFUOMt9VdeiqkAMhF16l945KCqa//+/GxTIUrx5UAjj7CQZg7SLv8auQgfjVdnNn/SfUPPYs2ANy4tz9QdUzjvli2KKwr5XStTIZ9i/+AP1o/dYc16P9+jygVfGkba5TU+eqaEtKc1Ig+n3Lpd32EcJwIJDmgcMKWx5k7QtFGBrR3HaiGKstyzyIvZmntdteogWuBuU5hXSjzCeiM7WuxvyEvaIRu62mEVUABdT1HnF0EQlqLv/jidXgNkCjx36inIJHlfKpQz07EPcATy1TT3ApgGGJp0V4a36JVb4mi5c1FfV4+ADuAVRlGBNIFQcyGsTkeJVLCd01DA8fkBLYCvSNYfHlPl8WYJP1JyBa0hchwtZJcFjlkNeoNdkMwdYNj2OqDzbcx7LdQ/sQVbvAe7SgB/C4GVVJWYsnGiQVPKApad/hVQHV2h1jaIlZ273PupyMyrJ9KFFcJmf8E7YWN2CrXOwbKMFKqqbwCcyOGLjBUsyTgu8voAlpIEKpNZR4KBCagS1joYixB2AxkGmv9O4hYhB5/ut4uK40UhH0YnjUodEI5FFxaFTgiza41djzR6gUDVthzbLb4fVEKm1DTYJgnG+Js+F6twotileCwDiDTjTl9Gpw34VPHfgogXo5iEZLoBnCPWNcczFtoXIVghWgKex6YeIndZXvV2i3o/FWCCvnohr9K3jSenZyq1bIGeTgYEdXyBmx1DD3oEyxyqhDDJjfaAaPPIx2WbycbEOOiB72ydpY5pNmvQtA5TbnS5jlYfK/Gbz/fndZoWcJOzgTeXqsIbuDlys+SiGJ53nOBfn1t/53uf/AKXaRQwi9TRWAAAAAElFTkSuQmCC"},H2pn:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("VsUZ"),a={name:"Coupon",data:function(){return{headerCon:"优惠券",questionImg:s("Fku2"),selectImg:s("ahnF"),notSelectImg:s("CHIo"),isSelect:0,tabData:["可使用","不可使用"],tabList:[{yhqList:[]}],couponList:[],pageNo:0,pageSize:10,totalPages:"",noMore:0,pShow:!1,currentTime:""}},methods:{changeTab:function(t){this.isSelect=t,this.pageNo=0,this.pageSize=10,this.totalPages="",this.noMore=0,this.pShow=!1,this.loadMore(t)},getModal:function(){},getCouponList:function(t){var e=this;this.loading=!0;var s={status:t||0,pageNo:this.pageNo,pageSize:this.pageSize};i.a.couponList(s).then(function(t){if(200===t.data.code){1===e.pageNo&&(e.couponList=[]),e.currentTime=e.common.getServerDate().getTime();var s=t.data.successObject.records;for(var i in s)s[i].beginTime=s[i].beginTime.substring(0,10),s[i].expireTime=s[i].expireTime.substring(0,10),1===s[i].status&&(Number(new Date(s[i].expireTime))<e.currentTime?s[i].type=2:s[i].type=1);e.couponList=e.couponList.concat(s),e.totalPages=t.data.successObject.pages,console.log(e.totalPages),e.couponList.length||(e.pShow=!0),e.loading=!1,console.log(e.loading)}})},loadMore:function(t){this.loading=!0,this.pageNo++,1===this.pageNo?this.getCouponList(t):this.pageNo>1&&this.totalPages>=this.pageNo?this.getCouponList(t):this.noMore=1}},created:function(){this.loadMore(0)}},q={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"coupon"},[t._m(0),t._v(" "),i("div",{staticClass:"tab"},t._l(t.tabData,function(e,s){return i("p",{key:s,class:t.isSelect===s?"active":"",on:{click:function(e){t.changeTab(s)}}},[i("span",[t._v(t._s(e))])])}),0),t._v(" "),t.couponList.length?i("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"tab_list",attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":"10"}},[i("ul",t._l(t.couponList,function(e){return i("li",{key:e.id,class:e.status?"disable":""},[i("div",{staticClass:"money"},[i("p",{staticClass:"mh"},[i("span",{staticClass:"symbol"},[t._v("¥")]),t._v(" "),i("span",[t._v(t._s(e.couponPrice))])]),t._v(" "),i("p",{staticClass:"dyq"},[t._v("抵用券")])]),t._v(" "),i("div",{staticClass:"qm_yxq"},[i("p",{staticClass:"qm"},[t._v(t._s(e.name))]),t._v(" "),i("p",{staticClass:"describe"})]),t._v(" "),i("p",{staticClass:"syqx"},[t._v("使用期限："),i("span",[t._v(t._s(e.beginTime)+"-"+t._s(e.expireTime))])]),t._v(" "),1===e.type?i("div",{staticClass:"type"},[t._v("已使用")]):2===e.type?i("div",{staticClass:"type"},[t._v("已过期")]):t._e()])}),0)]):i("div",{staticClass:"no_message"},[i("img",{attrs:{src:s("AL6J")}}),t._v(" "),i("p",[t._v("您暂时还没有优惠券哦~")])]),t._v(" "),t.noMore?i("p",{staticClass:"noMore"},[t._v("没有更多数据了~")]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"search"},[e("input",{attrs:{type:"text",placeholder:"请输入兑换券"}}),this._v(" "),e("button",[this._v("兑换")])])}]};var o=s("VU/8")(a,q,!1,function(t){s("7tsb")},"data-v-6abbfd2e",null);e.default=o.exports}});